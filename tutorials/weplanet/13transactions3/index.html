<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<style>
@import url(https://fonts.googleapis.com/earlyaccess/nanumgothic.css); /* 나눔고딕 : 'Nanum Gothic' */
</style>
<title>WebFrameworks.kr - VueJS 가이드 13 - Transaction (3/4)</title>
<link rel="stylesheet" href="/static/css/bootstrap.min.css">
<link rel="stylesheet" href="/static/css/main.css">
<link rel="stylesheet" href="/static/css/syntax.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/static/css/toc.css">
    <script type="text/javascript" src="/static/js/jquery.toc.js"></script>
</head>
<body>
<nav class="navbar navbar-default top_menu" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">웹Frameworks</a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-1">
            <ul class="nav navbar-nav navbar-left">
                <li><a href="/getstarted">Get Started</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-left">
                <li><a href="/updates">Update</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-left">
                <li><a href="/tutorials">Tutorials</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-left">
                <li><a href="/quickstart">Quick Start</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-left">
                <li><a href="/archives">Archives</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-left">
                <li><a href="https://github.com/KoreaHTML5/webframeworks.kr/blob/master/CONTRIBUTE.md" target="_blank">참여하기</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-left">
                <li><a href="http://goo.gl/forms/MB9ZxVvdrD" target="_blank">설문하기</a></li>
            </ul>
        </div>
    </div>
</nav>


<div class="content_bg"  style="background-color: #;color: #;" >
<div class="col-md-10 col-md-offset-1 title_header jumbotron"  style="background:url() no-repeat center"  >
<h1 class="title_header_title">VueJS 가이드 13 - Transaction (3/4)</h1>
<p class="title_header_summary">VueJS를 통한 애플리케이션 개발에 대해 알아봅니다.</p>
</div>
</div>

<div>

    <div class="col-sm-3 col-md-2 col-md-offset-2">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">작성자</h3>
            </div>
            <div class="panel-body">
                <div class="media">
                    <a class="pull-left" href="#">
                        <img class="media-object profile_img" src="https://avatars2.githubusercontent.com/u/2951094?s=400&u=444fd9e324854bf6615b6f14239a67d878289998&v=4" alt="조덕기">
                    </a>
                    <div class="media-body">
                        <h4 class="media-heading">
                            조덕기

                        </h4>
                        DanielCho<br>
                    </div>
                </div>
            </div>
        </div>

        <div id="toc_location"></div>

        <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Tags</h3>
    </div>
    <div class="panel-body">
        <a href='/tags/jquery/' style='color: rgba(0,0,0,0.060644)'>jquery</a>
<a href='/tags/javascript/' style='color: rgba(0,0,0,9.157245)'>javascript</a>
<a href='/tags/html/' style='color: rgba(0,0,0,0.060644)'>html</a>
<a href='/tags/grunt/' style='color: rgba(0,0,0,0.060644)'>grunt</a>
<a href='/tags/gulp/' style='color: rgba(0,0,0,0.060644)'>gulp</a>
<a href='/tags/build/' style='color: rgba(0,0,0,0.363864)'>build</a>
<a href='/tags/yeoman/' style='color: rgba(0,0,0,0.060644)'>yeoman</a>
<a href='/tags/foundation/' style='color: rgba(0,0,0,0.060644)'>foundation</a>
<a href='/tags/bower/' style='color: rgba(0,0,0,0.121288)'>bower</a>
<a href='/tags/twitter/' style='color: rgba(0,0,0,0.121288)'>twitter</a>
<a href='/tags/framework/' style='color: rgba(0,0,0,2.304472)'>framework</a>
<a href='/tags/angularjs/' style='color: rgba(0,0,0,1.030948)'>angularjs</a>
<a href='/tags/tutorials/' style='color: rgba(0,0,0,1.334168)'>tutorials</a>
<a href='/tags/backbone/' style='color: rgba(0,0,0,0.242576)'>backbone</a>
<a href='/tags/getstarted/' style='color: rgba(0,0,0,0.181932)'>getstarted</a>
<a href='/tags/underscore/' style='color: rgba(0,0,0,0.060644)'>underscore</a>
<a href='/tags/library/' style='color: rgba(0,0,0,0.424508)'>library</a>
<a href='/tags/Ext/' style='color: rgba(0,0,0,0.545796)'>Ext</a>
<a href='/tags/JS/' style='color: rgba(0,0,0,0.849016)'>JS</a>
<a href='/tags/tutorial/' style='color: rgba(0,0,0,0.788372)'>tutorial</a>
<a href='/tags/modernizr/' style='color: rgba(0,0,0,0.060644)'>modernizr</a>
<a href='/tags/bootstrap/' style='color: rgba(0,0,0,0.181932)'>bootstrap</a>
<a href='/tags/quickstart/' style='color: rgba(0,0,0,0.060644)'>quickstart</a>
<a href='/tags/angular-di/' style='color: rgba(0,0,0,0.060644)'>angular-di</a>
<a href='/tags/animation/' style='color: rgba(0,0,0,0.242576)'>animation</a>
<a href='/tags/router/' style='color: rgba(0,0,0,0.060644)'>router</a>
<a href='/tags/promise/' style='color: rgba(0,0,0,0.303220)'>promise</a>
<a href='/tags/responsive/' style='color: rgba(0,0,0,0.060644)'>responsive</a>
<a href='/tags/form/' style='color: rgba(0,0,0,0.121288)'>form</a>
<a href='/tags/validation/' style='color: rgba(0,0,0,0.121288)'>validation</a>
<a href='/tags/map/' style='color: rgba(0,0,0,0.060644)'>map</a>
<a href='/tags/direcitve/' style='color: rgba(0,0,0,0.060644)'>direcitve</a>
<a href='/tags/file/' style='color: rgba(0,0,0,0.121288)'>file</a>
<a href='/tags/test/' style='color: rgba(0,0,0,0.242576)'>test</a>
<a href='/tags/ui-bootstrap/' style='color: rgba(0,0,0,0.060644)'>ui-bootstrap</a>
<a href='/tags/twitter-bootstrap/' style='color: rgba(0,0,0,0.060644)'>twitter-bootstrap</a>
<a href='/tags/express/' style='color: rgba(0,0,0,0.121288)'>express</a>
<a href='/tags/express.js/' style='color: rgba(0,0,0,0.060644)'>express.js</a>
<a href='/tags/node.js/' style='color: rgba(0,0,0,0.242576)'>node.js</a>
<a href='/tags/backend/' style='color: rgba(0,0,0,0.181932)'>backend</a>
<a href='/tags/d3.js/' style='color: rgba(0,0,0,0.060644)'>d3.js</a>
<a href='/tags/visualization/' style='color: rgba(0,0,0,0.060644)'>visualization</a>
<a href='/tags/reactjs/' style='color: rgba(0,0,0,0.121288)'>reactjs</a>
<a href='/tags/expressjs/' style='color: rgba(0,0,0,0.424508)'>expressjs</a>
<a href='/tags/react/' style='color: rgba(0,0,0,1.334168)'>react</a>
<a href='/tags/session/' style='color: rgba(0,0,0,0.121288)'>session</a>
<a href='/tags/meteor/' style='color: rgba(0,0,0,0.849016)'>meteor</a>
<a href='/tags/SEO/' style='color: rgba(0,0,0,0.060644)'>SEO</a>
<a href='/tags/REST/' style='color: rgba(0,0,0,0.060644)'>REST</a>
<a href='/tags/API/' style='color: rgba(0,0,0,0.060644)'>API</a>
<a href='/tags/es2015/' style='color: rgba(0,0,0,0.121288)'>es2015</a>
<a href='/tags/es6/' style='color: rgba(0,0,0,0.667084)'>es6</a>
<a href='/tags/es7/' style='color: rgba(0,0,0,0.121288)'>es7</a>
<a href='/tags/DDP/' style='color: rgba(0,0,0,0.060644)'>DDP</a>
<a href='/tags/ngMessages/' style='color: rgba(0,0,0,0.121288)'>ngMessages</a>
<a href='/tags/jsx/' style='color: rgba(0,0,0,0.060644)'>jsx</a>
<a href='/tags/publish/' style='color: rgba(0,0,0,0.060644)'>publish</a>
<a href='/tags/subscribe/' style='color: rgba(0,0,0,0.060644)'>subscribe</a>
<a href='/tags/meteor.js/' style='color: rgba(0,0,0,0.060644)'>meteor.js</a>
<a href='/tags/reactive/' style='color: rgba(0,0,0,0.060644)'>reactive</a>
<a href='/tags/package/' style='color: rgba(0,0,0,0.060644)'>package</a>
<a href='/tags/static/' style='color: rgba(0,0,0,0.060644)'>static</a>
<a href='/tags/assets/' style='color: rgba(0,0,0,0.060644)'>assets</a>
<a href='/tags/public/' style='color: rgba(0,0,0,0.060644)'>public</a>
<a href='/tags/flux/' style='color: rgba(0,0,0,0.242576)'>flux</a>
<a href='/tags/redux/' style='color: rgba(0,0,0,0.424508)'>redux</a>
<a href='/tags/server/' style='color: rgba(0,0,0,0.060644)'>server</a>
<a href='/tags/distribution/' style='color: rgba(0,0,0,0.060644)'>distribution</a>
<a href='/tags/webpack/' style='color: rgba(0,0,0,0.181932)'>webpack</a>
<a href='/tags/development/' style='color: rgba(0,0,0,0.060644)'>development</a>
<a href='/tags/optimization/' style='color: rgba(0,0,0,0.060644)'>optimization</a>
<a href='/tags/immutable/' style='color: rgba(0,0,0,0.060644)'>immutable</a>
<a href='/tags/orm/' style='color: rgba(0,0,0,0.242576)'>orm</a>
<a href='/tags/database/' style='color: rgba(0,0,0,0.242576)'>database</a>
<a href='/tags/hapi.js/' style='color: rgba(0,0,0,0.060644)'>hapi.js</a>
<a href='/tags/hapi/' style='color: rgba(0,0,0,0.242576)'>hapi</a>
<a href='/tags/ionic/' style='color: rgba(0,0,0,0.121288)'>ionic</a>
<a href='/tags/hybrid-app/' style='color: rgba(0,0,0,0.060644)'>hybrid-app</a>
<a href='/tags/django/' style='color: rgba(0,0,0,0.060644)'>django</a>
<a href='/tags/fullstack/' style='color: rgba(0,0,0,0.060644)'>fullstack</a>
<a href='/tags/spa/' style='color: rgba(0,0,0,0.060644)'>spa</a>
<a href='/tags/ExpressJS/' style='color: rgba(0,0,0,0.303220)'>ExpressJS</a>
<a href='/tags/NodeJS/' style='color: rgba(0,0,0,0.303220)'>NodeJS</a>
<a href='/tags/Sequelize/' style='color: rgba(0,0,0,0.303220)'>Sequelize</a>
<a href='/tags/Mocha/' style='color: rgba(0,0,0,0.303220)'>Mocha</a>
<a href='/tags/Supertest/' style='color: rgba(0,0,0,0.303220)'>Supertest</a>
<a href='/tags/UnitTest/' style='color: rgba(0,0,0,0.303220)'>UnitTest</a>
<a href='/tags/this/' style='color: rgba(0,0,0,0.121288)'>this</a>
<a href='/tags/dom/' style='color: rgba(0,0,0,0.060644)'>dom</a>
<a href='/tags/es5/' style='color: rgba(0,0,0,0.121288)'>es5</a>
<a href='/tags/virtualdom/' style='color: rgba(0,0,0,0.121288)'>virtualdom</a>
<a href='/tags/modules/' style='color: rgba(0,0,0,0.060644)'>modules</a>
<a href='/tags/asynchronous/' style='color: rgba(0,0,0,0.060644)'>asynchronous</a>
<a href='/tags/semicolon/' style='color: rgba(0,0,0,0.060644)'>semicolon</a>
<a href='/tags/nodejs/' style='color: rgba(0,0,0,0.060644)'>nodejs</a>
<a href='/tags/ECMAScript2015/' style='color: rgba(0,0,0,0.121288)'>ECMAScript2015</a>
<a href='/tags/babel/' style='color: rgba(0,0,0,0.060644)'>babel</a>
<a href='/tags/angular,/' style='color: rgba(0,0,0,0.060644)'>angular,</a>
<a href='/tags/electron/' style='color: rgba(0,0,0,0.060644)'>electron</a>
<a href='/tags/docker/' style='color: rgba(0,0,0,0.242576)'>docker</a>
<a href='/tags/D3/' style='color: rgba(0,0,0,0.060644)'>D3</a>
<a href='/tags/node/' style='color: rgba(0,0,0,0.121288)'>node</a>
<a href='/tags/aws/' style='color: rgba(0,0,0,0.181932)'>aws</a>
<a href='/tags/dynamoDB/' style='color: rgba(0,0,0,0.060644)'>dynamoDB</a>
<a href='/tags/chrome/' style='color: rgba(0,0,0,0.060644)'>chrome</a>
<a href='/tags/native/' style='color: rgba(0,0,0,0.121288)'>native</a>
<a href='/tags/markdown/' style='color: rgba(0,0,0,0.060644)'>markdown</a>
<a href='/tags/vue/' style='color: rgba(0,0,0,2.183184)'>vue</a>
<a href='/tags/middleware/' style='color: rgba(0,0,0,0.060644)'>middleware</a>
<a href='/tags/IoT/' style='color: rgba(0,0,0,0.060644)'>IoT</a>
<a href='/tags/serverless/' style='color: rgba(0,0,0,0.060644)'>serverless</a>
<a href='/tags/python/' style='color: rgba(0,0,0,0.181932)'>python</a>
<a href='/tags/socket.io/' style='color: rgba(0,0,0,0.181932)'>socket.io</a>

    </div>
</div>
    </div>

    <div class="col-sm-9 col-md-6">
        <div class="media_content media_item shadow_panel" id="main_content">
            <blockquote>
<p>본 포스팅은 <a href="https://matthiashager.com">Matthias Hager</a> 의 <a href="https://matthiashager.com/complete-vuejs-application-tutorial/transactions">Vue.js Application Tutorial - Step 13 - All Aboard the Transaction Train</a>를 저자의 허락하에 번역한 글입니다. 오탈자, 오역 등이 있다면 연락부탁드립니다.</p>
</blockquote>

<h2>트랜잭션 보기 및 편집하기</h2>

<p>우리는 2개의 컴포넌트가 필요하다. 하나는 트랜잭션을 목록에 한 부분으로 간단하게 보기 위해, 그리고 또 하나는 트랜잭션을 생성 / 업데이트하기 위해. 트랜잭션을 편집할 때 사용자는 새로운 <code>business</code> 객체도 만들 수 있어야 한다. 그 비즈니스에 대해 필요한 정보는 이름뿐이다. 여긴 그저 사용자가 힘들게 번 돈을 어디다 쓰는지 기록하는 플레이스홀더일 뿐이다.</p>

<p>이 컴포넌트는 많은 <code>lookup</code>을 하게될 것이다. 근본적으로 우리가 만든 모든 것을 묶어주는 것이다. (예산, 카테고리, 계정 및 비즈니스) 여기서도 나중에는 성능 향상을 위해서 작업을 좀 해야 할 것이다. 지금은 일단 애플리케이션이 데이터베이스에 저장한 모든 데이터를 한 조각 한 조각 다 로드 할 것이다.</p>

<p><code>transaction</code>이 핵심이므로 애플리케이션에 많은 영향을 줄 수 있다. 사용자가 식료품을 사는데 신용카드로 100 달러를 쓰면 애플리케이션은 다음을 해야 한다.</p>

<ul>
<li>신용 카드 계좌에서 100 달러 공제</li>
<li>트랜잭션 날짜를 기준으로 어떤 예산을 업데이트해야하는지 파악</li>
<li>이번 달의 예산에 식료품 카테고리에서 100 달러를 썼다고 표시</li>
<li>예산 합계도 업데이트되도록 하기</li>
</ul>

<p>작은 생성 / 업데이트 컴포넌트 치고는 할 일이 많은 것 같다. 이 정도의 많은 비즈니스 로직은 다른데서 일어나야 한다고 생각하고 있다면, 정확하다! 필자가 이걸 쓸 때는 컴포넌트가 어느 정도 기능적이기만 하면 된다 생각하고 쓴 것이다. 트랜잭션 추가 및 편집을 넣을 수 있겠지만 애플리케이션에게는 영향이 없다. 여기서는 왔다갔다한 걸 안보여주고 다 한꺼번에 보여준 것이지만 만약 너무 많은 일들이 일어나 뭐가뭔지 모르겠다면 커밋 로그를 봐도 된다.</p>

<p>src/app/transactions/components/Transaction.vue</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;template&gt;
  &lt;tr class=&quot;transaction&quot;&gt;
    &lt;td&gt;
      &lt;span class=&quot;subtitle is-5&quot;&gt;&lt;/span&gt;
    &lt;/td&gt;
    &lt;td&gt;&lt;span class=&quot;subtitle is-5&quot;&gt;&lt;/span&gt;&lt;/td&gt;
    &lt;td&gt;&lt;span class=&quot;subtitle is-5&quot;&gt;&lt;/span&gt;&lt;/td&gt;
    &lt;td&gt;&lt;span class=&quot;subtitle is-5&quot;&gt;&lt;/span&gt;&lt;/td&gt;
    &lt;td&gt;&lt;span class=&quot;subtitle is-5&quot;&gt;&lt;/span&gt;&lt;/td&gt;
    &lt;td&gt;&lt;span class=&quot;subtitle is-5&quot; v-if=&quot;value.amount &lt; 0&quot;&gt;$&lt;/span&gt;&lt;/td&gt;
    &lt;td&gt;&lt;span class=&quot;subtitle is-5&quot; v-if=&quot;value.amount &gt; 0&quot;&gt;$&lt;/span&gt;&lt;/td&gt;
    &lt;td&gt;&lt;a class=&#39;button&#39; @click.prevent=&quot;$emit(&#39;edit-transaction&#39;)&quot;&gt;Edit&lt;/a&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/template&gt;

&lt;script&gt;
import { moment } from &#39;../../../filters&#39;;
import { mapGetters } from &#39;vuex&#39;;

export default {
  name: &#39;transaction&#39;,

  props: [&#39;value&#39;],

  filters: {
    moment
  },

  computed: {
    ...mapGetters([
      &#39;getCategoryById&#39;,
      &#39;getAccountById&#39;,
      &#39;getBusinessById&#39;
    ])
  }
};
&lt;/script&gt;
</code></pre></div>
<p>src/app/transactions/components/CreateUpdateTransaction.vue</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;template&gt;
  &lt;tr class=&quot;transaction-create-update&quot;&gt;

​```
&lt;td&gt;
  &lt;span class=&quot;subtitle is-5&quot;&gt;
    &lt;p class=&quot;control has-icon has-addons&quot;&gt;
      &lt;datepicker name=&quot;month&quot; input-class=&quot;input&quot; v-model=&quot;transaction.date&quot;&gt;&lt;/datepicker&gt;
      &lt;span class=&quot;icon&quot;&gt;
        &lt;i class=&quot;fa fa-calendar&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;
      &lt;/span&gt;
    &lt;/p&gt;
  &lt;/span&gt;
&lt;/td&gt;

&lt;td&gt;
  &lt;multiselect
    :value=&quot;transaction.business&quot;
    @input=&quot;updateSelection(&#39;business&#39;, $event)&quot;
    :taggable=&quot;true&quot;
    @tag=&quot;handleCreateBusiness&quot;
    :options=&quot;getBusinessSelectList&quot;
    placeholder=&quot;Select a business&quot;
    label=&quot;name&quot;
    track-by=&quot;id&quot;
  &gt;&lt;/multiselect&gt;
&lt;/td&gt;

&lt;td&gt;
  &lt;multiselect
    :value=&quot;transaction.category&quot;
    @input=&quot;updateSelection(&#39;category&#39;, $event)&quot;
    :options=&quot;getCategorySelectList&quot;
    placeholder=&quot;Select a category&quot;
    label=&quot;name&quot;
    track-by=&quot;id&quot;
  &gt;&lt;/multiselect&gt;
&lt;/td&gt;

&lt;td&gt;
  &lt;multiselect
    :value=&quot;transaction.account&quot;
    @input=&quot;updateSelection(&#39;account&#39;, $event)&quot;
    :options=&quot;getAccountSelectList&quot;
    placeholder=&quot;Select an account&quot;
    label=&quot;name&quot;
    track-by=&quot;id&quot;
  &gt;&lt;/multiselect&gt;
&lt;/td&gt;

&lt;td&gt;
  &lt;p class=&quot;control&quot;&gt;
    &lt;input type=&quot;text&quot; class=&quot;input&quot; v-model=&quot;transaction.note&quot; /&gt;
  &lt;/p&gt;
&lt;/td&gt;

&lt;td&gt;
  &lt;p class=&quot;control has-icon&quot;&gt;
    &lt;input type=&quot;number&quot; step=&quot;0.01&quot; class=&quot;input&quot; v-model=&quot;debit&quot; /&gt;
    &lt;span class=&quot;icon&quot;&gt;
      &lt;i class=&quot;fa fa-usd&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;
    &lt;/span&gt;
  &lt;/p&gt;
&lt;/td&gt;

&lt;td&gt;
  &lt;p class=&quot;control has-icon&quot;&gt;
    &lt;input type=&quot;number&quot; step=&quot;0.01&quot; class=&quot;input&quot; v-model=&quot;credit&quot; /&gt;
    &lt;span class=&quot;icon&quot;&gt;
      &lt;i class=&quot;fa fa-usd&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;
    &lt;/span&gt;
  &lt;/p&gt;
&lt;/td&gt;

&lt;td&gt;
  &lt;a class=&quot;button is-primary&quot; @click.prevent=&quot;processSave&quot;&gt;

  &lt;/a&gt;
&lt;/td&gt;
​```

  &lt;/tr&gt;
&lt;/template&gt;

&lt;script&gt;
import { mapActions, mapGetters } from &#39;vuex&#39;;
import Datepicker from &#39;vuejs-datepicker&#39;;
import Multiselect from &#39;vue-multiselect&#39;;

export default {
  name: &#39;transaction-create-update&#39;,

  props: [&#39;value&#39;],

  components: {

​```
Datepicker,
Multiselect
​```

  },

  data () {

​```
return {
  transaction: {},
  debit: null,
  credit: null,
  editing: false
};
​```

  },

  mounted () {

​```
this.loadTransactions();
this.loadBudgets();
this.loadCategories();
this.loadAccounts();
this.loadBusinesses();

if (this.value) {
  this.transaction = Object.assign({}, this.value);

  // we need the selected category, account, and business name and ID, but the object only holds their IDs by default
  this.transaction.category = this.getCategoryById(this.transaction.category);
  this.transaction.account = this.getAccountById(this.transaction.account);
  this.transaction.business = this.getBusinessById(this.transaction.business);

  if (this.transaction.amount &gt; 0) this.credit = this.transaction.amount;
  else this.debit = this.transaction.amount;

  this.editing = true;
}
​```

  },

  methods: {

​```
...mapActions([
  &#39;loadTransactions&#39;,
  &#39;loadCategories&#39;,
  &#39;loadAccounts&#39;,
  &#39;loadBudgets&#39;,
  &#39;createBusiness&#39;,
  &#39;createTransaction&#39;,
  &#39;updateTransaction&#39;,
  &#39;deleteTransaction&#39;,
  &#39;loadBusinesses&#39;,
  &#39;deleteBusiness&#39;
]),

processSave () {
  if (this.editing) {
    // TODO: I hate this - have to remember to change it if we change how transaction stores data
    // surely there is a better way?
    this.updateTransaction({
      account: this.transaction.account.id,
      amount: this.transaction.amount,
      business: this.transaction.business.id,
      budget: this.transaction.budget,
      category: this.transaction.category.id,
      date: this.transaction.date,
      note: this.transaction.note,
      id: this.transaction.id
    }).then(() =&gt; {
      this.$emit(&#39;updated-transaction&#39;, this.transaction);
    });
  } else {
    this.createTransaction({
      account: this.transaction.account.id,
      amount: this.transaction.amount,
      business: this.transaction.business.id,
      category: this.transaction.category.id,
      note: this.transaction.note,
      date: this.transaction.date
    }).then(() =&gt; {
      this.transaction = {};
    });
  }
},

updateSelection (name, obj) {
  // if using v-model and not using Vue.set directly, vue-multiselect seems to struggle to properly
  // keep its internal value up to date with the value in our component. So we&#39;re skipping v-model
  // and handling updates manually.
  this.$set(this.transaction, name, obj);
},

handleCreateBusiness (business) {
  let newBusiness = { name: business };
  this.createBusiness(newBusiness).then((val) =&gt; {
    this.updateSelection(&#39;business&#39;, val);
  });
}
​```

  },

  computed: {

​```
...mapGetters([
  &#39;getCategoryById&#39;,
  &#39;getAccountById&#39;,
  &#39;getCategorySelectList&#39;,
  &#39;getAccountSelectList&#39;,
  &#39;getBusinessSelectList&#39;,
  &#39;getBusinessById&#39;
])
​```

  },

  watch: {

​```
credit: function (val) {
  this.transaction.amount = Math.abs(val);
},

debit: function (val) {
  this.transaction.amount = -Math.abs(val);
}
​```

  }
};
&lt;/script&gt;
</code></pre></div>
<p>src/app/accounts/vuex/getters.js</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">export default {
  getAccountById: (state, getters) =&gt; (accountId) =&gt; {

​```
return state.accounts &amp;&amp; accountId in state.accounts ? state.accounts[accountId] : false;
​```

  },

  getAccountSelectList: (state, getters) =&gt; {

​```
return state.accounts &amp;&amp; Object.keys(state.accounts).length &gt; 0 ? Object.values(state.accounts) : [];
​```

  }
};
</code></pre></div>
<blockquote>
<p>선택 목록에 계정을 로드하기 위해 getter를 추가한 걸 확인하자.</p>
</blockquote>

<p>이 코드에서 별로 만족스럽지 않은 두 곳이 있다. 이미 봤을 것이다. <code>processSave()</code> 코드는 다소 장황하고 다루기 힘들다. 필자는 이것을 코딩하면서 개인적으로 TODO 노트를 남겼다. (그리고 필자의 프로그래머의 공책에도 메모해놓았다.) 장황하고 반복적인 것보다 더 나쁜 건 트랜잭션에 변경을 주고 편집하는 것을 잊어버리면 코드가 나중에 깨질 수도 있다는것이다. 필자는 뒤에 나오는 릴리스에 필자만의 코드로 이 문제를 고치겠지만 지금은 한 번 직접 해보자.</p>

<p>두 번째는 필자가 <code>credit</code> 하고 <code>debit</code>을 위해 설정 한 <code>watcher</code>이다. 이 코드는 <code>debit</code> 필드에 입력된 값은 항상 음수이고 <code>credit</code> 필드는 항상 양수인지 확인한다. 애플리케이션을 매핑할 때, <code>credit</code> 및 <code>debit</code>을 위한 별도의 필드가 필요한 이 접근법이 실제로 어떻게 작동 할지에 대해 충분히 생각하지 않았다. 필드에 사용자가 직접 음수 부호를 추가하는 것보다 두 필드를 사용하는 것이 정말 더 나을까? 사용자는 크레딧보다 데빗을 더 많이 입력 할 것이므로 마이너스 부호를 잊을 가능성이 매우 높다. 사용자한테 이게 더 낫다면 작동하게 할 프로그래밍 방법을 찾아야 한다.그래서 이걸 한 것이지만 아직 그렇게 휼륭하지는 않다.</p>

<p>아직 커밋하지 않았다면 지금 하자! 다음으로 넘어가기 전에 루트와 내비게이션을 추가하여 이 섹션을 사용할 수 있게 만들자.</p>

<p>/src/app/transactions/routes.js</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">import * as components from &#39;./components&#39;;

export default [
  {
    path: &#39;/transactions&#39;,
    name: &#39;transactionsList&#39;,
    component: components.TransactionsListView
  }
];
</code></pre></div>
<p>/src/app/navigation/components/Navigation.vue</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">...

  &lt;li&gt;&lt;router-link :to=&quot;{ name: &#39;budgetsList&#39; }&quot;&gt;Budgets&lt;/router-link&gt;&lt;/li&gt;
  &lt;li&gt;&lt;router-link :to=&quot;{ name: &#39;transactionsList&#39; }&quot;&gt;Transactions&lt;/router-link&gt;&lt;/li&gt;

...
</code></pre></div>
        </div>

        <div class="media_content media_item shadow_panel">
            <p>Tags : <a href="/tags/vue">vue</a>&nbsp;<a href="/tags/javascript">javascript</a>&nbsp;</p>
        </div>


        <div class="media_content media_item shadow_panel">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'html5krforkisa'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
        </div>

    </div>

    <script>
        $('#main_content').toc();
    </script>
</div>
<footer>
<table width="100%" height="80" class="footer">
    <tr>
        <td align="center" class="footer_content">
            WebFrameworks.kr @since 2015
        </td>
    </tr>
</table>
</footer>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-56520981-1', 'auto');
    ga('send', 'pageview');

</script>
</body>
</html>